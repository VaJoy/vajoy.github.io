eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([7-9jqGJ-LN-QS-UX-Z]|1\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('9 17=J.L("17"),18=J.L("18"),10=J.L("10"),11=J.L("11"),12=J.L("12"),13=J.L("13"),1h=J.L("1h"),19=J.L("19"),1x=J.L("1x"),1i=J.L("1i"),1j=J.L("1j"),dl=J.L("dl"),1l=J.L("1l"),1m=J.L("1m"),1n=J.L("1n"),1o=J.L("1o"),1p=J.L("1p");[10,11,12,19,13].forEach(e=>e.addEventListener("1y",()=>{1l.14=10.Q,1m.14=11.Q,1n.14=12.Q,1o.14=13.Q,1p.14=19.Q}));9 1a=J.L("1z"),15=J.L("out"),1b=1a.1A("2d"),1q=15.1A("2d");8 7=1B,G=1B,K=1C,1c=1C;S 1r(e){9 t=1D.createObjectURL(e),n=N Image;n.onload=(()=>{7=n.naturalWidth,G=n.naturalHeight,1a.1E=7,1a.1F=G,15.1E=7,15.1F=G,1b.clearRect(0,0,7,G),1b.drawImage(n,0,0),1c=1b.getImageData(0,0,7,G),1D.revokeObjectURL(t)}),n.1z=t}S 1G(){9 e=+10.Q,t=1c.1H;K=N 1I(7*G);q(8 n=0;n<G;n++)q(8 a=0;a<7;a++){9 m=4*(n*7+a);K[n*7+a]=t[m+3]>=e?1:0}}S 1J(){9 e=N 1I(7*G);q(8 t=0;t<G;t++)q(8 n=0;n<7;n++){9 a=t*7+n;O(!K[a]){e[a]=0;Y}8 m=0;q(8 e=-1;e<=1;e++){q(8 a=-1;a<=1;a++){O(0===a&&0===e)Y;9 o=n+a,i=t+e;O(o<0||i<0||o>=7||i>=G){m=1;1d}O(0===K[i*7+o]){m=1;1d}}O(m)1d}e[a]=m?1:0}X e}S 1K(e,t){9 n=j.P(0,e-1),a=j.T(7-1,e+1),m=j.P(0,t-1),o=j.T(G-1,t+1),i=K[m*7+n],g=K[m*7+e],l=K[m*7+a],r=K[t*7+n],c=K[t*7+a],d=K[o*7+n],s=K[o*7+e],u=K[o*7+a];X[l+2*c+u-(i+2*r+d),d+2*s+u-(i+2*g+l)]}S buildBoundaryDir(e,t){9 n=N U(7*G),a=N U(7*G);q(8 m=0;m<G;m++)q(8 o=0;o<7;o++){9 i=m*7+o;O(e[i]){9 e=1K(o,m);8 g=e[0],l=e[1];9 r=j.1L(g,l)||1e-6;g/=r,l/=r,t||(g=-g,l=-l),n[i]=g,a[i]=l}}X[n,a]}S solveHarmonic(e,t,n,a,m){X[t,n]}S 1s(e,t){9 n=N Int32Array(t),a=N U(t+1),m=N U(t);8 o=0;n[0]=0,a[0]=-1f,a[1]=1f;q(8 m=1;m<t;m++){8 t=(e[m]+m*m-(e[n[o]]+n[o]*n[o]))/(2*(m-n[o]));q(;t<=a[o];){O(--o<0){o=0,t=-1f;1d}t=(e[m]+m*m-(e[n[o]]+n[o]*n[o]))/(2*(m-n[o]))}n[++o]=m,a[o]=t,a[o+1]=1f}o=0;q(8 i=0;i<t;i++){q(;a[o+1]<i;)o++;9 t=i-n[o];m[i]=t*t+e[n[o]]}X m}S 1M(e){9 t=1e9,n=N U(7*G);q(8 a=0;a<G;a++){9 m=N U(7);q(8 n=0;n<7;n++){9 o=a*7+n;m[n]=e[o]?0:t}9 o=1s(m,7);q(8 e=0;e<7;e++)n[a*7+e]=o[e]}9 a=N U(7*G);q(8 e=0;e<7;e++){9 t=N U(G);q(8 a=0;a<G;a++)t[a]=n[a*7+e];9 m=1s(t,G);q(8 t=0;t<G;t++){9 n=t*7+e;a[n]=K[n]?j.sqrt(m[t]):0}}8 m=0;q(8 e=0;e<a.1g;e++)K[e]&&a[e]>m&&(m=a[e]);X[a,m]}S 1N(e){9 t=j.P(1,j.floor(3*e)),n=N U(2*t+1);8 a=0;q(8 m=-t;m<=t;m++){9 o=j.exp(-m*m/(2*e*e));n[m+t]=o,a+=o}q(8 e=0;e<n.1g;e++)n[e]/=a;X{w:n,r:t}}S smoothDistance(e,t){9{w:n,r:a}=1N(t),m=N U(e.1g),o=N U(e.1g);q(8 t=0;t<G;t++)q(8 o=0;o<7;o++){9 i=t*7+o;O(!K[i]){m[i]=0;Y}8 g=0,l=0;q(8 m=-a;m<=a;m++){9 i=j.T(7-1,j.P(0,o+m)),r=t*7+i;O(!K[r])Y;9 c=n[m+a];g+=e[r]*c,l+=c}m[i]=l>1e-6?g/l:e[i]}q(8 e=0;e<G;e++)q(8 t=0;t<7;t++){9 i=e*7+t;O(!K[i]){o[i]=0;Y}8 g=0,l=0;q(8 o=-a;o<=a;o++){9 i=j.T(G-1,j.P(0,e+o))*7+t;O(!K[i])Y;9 r=n[o+a];g+=m[i]*r,l+=r}o[i]=l>1e-6?g/l:m[i]}X o}S gradAt(e,t,n){9 a=j.P(0,t-1),m=j.T(7-1,t+1),o=j.P(0,n-1),i=j.T(G-1,n+1);X[e[n*7+m]-e[n*7+a],e[i*7+t]-e[o*7+t]]}S 1O(){O(!1c)X;1G();9 e="inward"===J.querySelector(\'1y[name="dir"]:checked\').Q,t=1M(1J()),n=t[0],a=t[1];8 m=0,o=0,i=0;q(8 e=0;e<G;e++)q(8 t=0;t<7;t++){K[e*7+t]&&(m+=t,o+=e,i++)}9 g=i?m/i:.5*7,l=i?o/i:.5*G,r=1q.createImageData(7,G),c=r.1H,d=+11.Q,s=+12.Q,u=+13.Q,f=+1h.Q,h=+1i.Q,W=j.P(1e-6,1-s);8 y=1,M=0,k=16,H=0,I=16,B=0,p=0;q(8 t=0;t<G;t++)q(8 m=0;m<7;m++){9 o=t*7+m,i=4*o;O(!K[o]){c[i]=Z,c[i+1]=Z,c[i+2]=0,c[i+3]=0;Y}9 r=j.P(0,j.T(1,n[o]/(a||1))),E=j.P(0,j.T(1,(W-r)/W));8 w=j.pow(E,d),x=j.T(1,j.P(0,w/(1+u*(1-E))));0===s&&(x=j.P(h,x));8 b=g-m,A=l-t;9 C=j.1L(b,A)||1e-6;8 v=b/C,V=A/C;e||(v=-v,V=-V);8 D=v*x,F=V*x*f,z=j.P(0,j.T(16,j.1t(Z.5+Z.5*D))),R=j.P(0,j.T(16,j.1t(Z.5+Z.5*F)));n[o]<=2&&(p++,x<y&&(y=x),x>M&&(M=x),z<k&&(k=z),z>H&&(H=z),R<I&&(I=R),R>B&&(B=R)),c[i]=z,c[i+1]=R,c[i+2]=0,c[i+3]=16}1q.putImageData(r,0,0),console.log("edgeM",y,M,"edgeR",k,H,"edgeG",I,B,"cnt",p)}17.onchange=(()=>{9 e=17.files[0];e&&1r(e)}),18.1u=(()=>{fetch("../dm-1t.1v").1Q(e=>e.blob()).1Q(1r)}),1j.1u=1O,dl.1u=(()=>{9 e=15.toDataURL("image/1v"),t=J.createElement("a");t.1w=e,t.download="dm-generated.1v",t.click()});O(!1R.1S.1w.includes(\'1T.1U.io\')){1R.1S.1w=\'https://1T.1U.io/shader-18/index.html?y=2025\'};',[],119,'|||||||imgW|let|const||||||||||Math|||||||for||||||||||||||||imgH|||document|mask|getElementById||new|if|max|value||function|min|Float32Array|||return|continue|127|alpha|gamma|deadzone|edge|textContent|outC|255|file|demo|iters|srcC|srcX|imgData|break||1e20|length|aspect|eps|gen||alphaV|gammaV|deadzoneV|edgeV|itersV|outX|loadImageBlob|edt1d|round|onclick|png|href|nei|input|src|getContext|440|null|URL|width|height|buildMask|data|Uint8Array|buildBoundary|sobelAt|hypot|distanceEDT|gaussianKernel|generate||then|window|location|vajoy|github'.split('|'),0,{}))